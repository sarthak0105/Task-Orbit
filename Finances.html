<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Finance Dashboard</title>
  <link rel="stylesheet" href="Finances.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
  <div class="container">
    <aside class="sidebar">
            
            <div class="logo"></div>
            <img src="public/whatsapp-image-20240818-at-83859-amremovebgpreview-2@2x.png" alt="logo" class="logo">
            <nav>
                <ul>
                    <li><span class="material-symbols-outlined">home</span><a href="Home_page.html">Home</a></li>
                    <li><span class="material-symbols-outlined">paid</span><a href="Finances.html">Finances</a></li>        
                    <li><span class="material-symbols-outlined">groups</span><a href="Teams.html">Teams</a></li>
                    <li><span class="material-symbols-outlined">account_circle</span><a href="profile.html">Profile</a></li>
                    <li><span class="material-symbols-outlined">info</span><a href="About_Us.html">About us</a></li>
                </ul>
            </nav>
        </aside>

    <!-- Main content section -->
    <main class="content">

	 <div class="top-right-icons">
                    <a href="#"><i class="fas fa-bell"></i></a>
                    <a href="#"><i class="fas fa-cog"></i></a>
                    <a href="#"><i class="fas fa-right-from-bracket" id="logoutIcon"></i></a>
                    <a href="#"><i id="theme-toggle" class="fas fa-moon" class="fas fa-moon"></i></a>
                </div>
      <!-- Finance Management Section -->
      <div class="finance-container">
        <div class="card" id="finance-management">
          <h2>Finance Management</h2>
          <p>Total Budget: <span style="font-size: 24px;" id="total-budget">₹0</span></p>
          <p>Total Expenses: <span id="total-expenses">₹0</span></p>
        </div>
    
        <div class="card transaction-input">
  <h2>Add Transaction</h2>
  <div class="input-group" id="descrip">
    <label id="a" for="transaction-description">Description:</label>
    <input type="text" id="transaction-description" placeholder="Enter transaction description">
  </div>
  <div class="input-group">
    <label for="amount-input">Amount:</label>
    <input type="number" id="amount-input" placeholder="Enter amount">
  </div>
  <button id="use-cash">Use Cash</button>
</div>
    
        <!-- Total Budget vs. Total Expenses (moved to third position) -->
        <div class="card" id="overall-budget">
          <h2>Total Budget vs. Total Expenses</h2>
          <div class="chart">
            <div class="pie-chart" id="budget-chart">
              <span class="percentage-text" id="percentage">0%</span>
            </div>
           
            </div>
            
          </div>
        </div>


		    <!-- Transaction History Section (moved to bottom) -->
      <div class="card" id="transaction-history">
        <h2>Transaction History</h2>
        <ul id="history-list">
          <!-- Transactions will appear here -->
        </ul>
      </div>


		  
      </div>
    
    
    </main>
	 <script>








	 // Theme toggle functionality
        const themeToggleButton = document.getElementById('theme-toggle');
        const currentTheme = localStorage.getItem('theme') || 'light';

        // Apply the saved theme on page load
        document.body.classList.add(currentTheme);

        themeToggleButton.addEventListener('click', () => {
            if (document.body.classList.contains('light')) {
                document.body.classList.remove('light');
                document.body.classList.add('dark');
                localStorage.setItem('theme', 'dark');
                themeToggleButton.classList.replace('fa-moon', 'fa-sun'); // Change icon to sun
            } else {
                document.body.classList.remove('dark');
                document.body.classList.add('light');
                localStorage.setItem('theme', 'light');
                themeToggleButton.classList.replace('fa-sun', 'fa-moon'); // Change icon to moon
            }
        });

        // Set the initial icon based on the saved theme
        themeToggleButton.classList.add(currentTheme === 'light' ? 'fa-moon' : 'fa-sun');

	 // Logout functionality when clicking the logout icon
      document.getElementById('logoutIcon').addEventListener('click', function () {
        // Optionally, clear session or localStorage data
        // localStorage.removeItem('userToken'); // Example if you're using localStorage
        
        // Redirect to the login page
        window.location.href = 'login-page.html';
		  
      });


document.addEventListener('DOMContentLoaded', () => {
  fetch('/get-budget')
    .then(response => response.json())
    .then(data => {
      document.getElementById('total-budget').textContent = `₹${data.budget}`;
    })
    .catch(error => console.error('Error fetching budget:', error));
});



		

	 </script>
    

  <script src="Finances.js"></script>
</body>
</html>



